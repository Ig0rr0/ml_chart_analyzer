{% extends 'base.html.twig' %}
{% block title %}Any Json to Chart using Machine Learning{% endblock %}
{% block stylesheets %}
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <style>
        .send-button{
            background: #54C7C3;
            width:100%;
            font-weight: 600;
            color:#fff;
            padding: 8px 25px;
        }
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        .g-button{
            color: #fff !important;
            border: 1px solid #EA4335;
            background: #ea4335 !important;
            width:100%;
            font-weight: 600;
            color:#fff;
            padding: 8px 25px;
        }
        .my-input{
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
            cursor: text;
            padding: 8px 10px;
            transition: border .1s linear;
        }
        .header-title{
            margin: 3rem 0 2rem;
        }
        h1{
            font-size: 31px;
            line-height: 40px;
            font-weight: 600;
            color:#4c5357;
        }
        h2{
            color: #5e8396;
            font-size: 21px;
            line-height: 32px;
            font-weight: 400;
        }
        h3{
            color: #435f6d;
            font-size: 18px;
            line-height: 32px;
            font-weight: 400;
        }
        .login-or {
            position: relative;
            color: #aaa;
            margin-top: 10px;
            margin-bottom: 10px;
            padding-top: 10px;
            padding-bottom: 10px;
        }
        .span-or {
            display: block;
            position: absolute;
            left: 50%;
            top: -2px;
            margin-left: -25px;
            background-color: #fff;
            width: 50px;
            text-align: center;
        }
        .hr-or {
            height: 1px;
            margin-top: 0px !important;
            margin-bottom: 0px !important;
        }
        @media screen and (max-width:480px){
            h1{
                font-size: 26px;
            }
            h2{
                font-size: 20px;
            }
        }
        .centered{
            justify-content: center;align-items: center;display: flex;
        }
        .centered>div{
            width: 100%;
        }
    </style>
{% endblock %}
{% block body %}

    <div class="container">
        <div class="col-md-10 mx-auto text-center">
            <div class="header-title">
                <h1 class="wv-heading--title">
                    Any Json to Chart
                </h1>
                <h2 class="wv-heading--subtitle">
                    using Machine Learning
                </h2>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">provides the conversion of any json-format into a visualized chart</li>
                    <li class="list-group-item">demonstrating the basic usage of machine learning in PHP</li>
                    <li class="list-group-item">useful tool to build chart with prognose</li>
                    {#<li class="list-group-item">demonstrates that using machine learning for prognose chart of cryptocurrency need more than one source</li>#}
                </ul>
                <h3>
                    All You need is:
                </h3>
            </div>
        </div>
        <div class="row">
            <div class="col-md-10 mx-auto">
                <div class="myform form ">
                        <div class="row">
                            <div class="col-md-6">
                                {{ form_start(form) }}
                                <div class="form-group">
                                    <small class="form-text text-muted">Enter Url Source with json format responce</small>
                                    {{ form_widget(form.source, {'attr':
                                        {
                                            'class': 'form-control',
                                            'value': 'https://eth.nanopool.org/api/v1/price_history/0/768',
                                            'placeholder': 'Url Source'
                                        }})
                                    }}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <small class="form-text text-muted">Enter the name of generated chart</small>
                                    {{ form_widget(form.chart_title, {'attr':
                                        {
                                            'class': 'form-control',
                                            'value': 'Ethereum price ',
                                            'placeholder': 'Chart title'
                                        }})
                                    }}
                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <small class="form-text text-muted">Enter the name of X-axis in generated chart</small>
                                    {{ form_widget(form.x_name, {'attr':
                                        {
                                            'class': 'form-control',
                                            'value': 'Time period',
                                            'placeholder': 'name of X-axis'
                                        }})
                                    }}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <small class="form-text text-muted">Enter the name of Y-axis in generated chart</small>
                                    {{ form_widget(form.y_name, {'attr':
                                        {
                                            'class': 'form-control',
                                            'value': 'Price value',
                                            'placeholder': 'name of Y-axis'
                                        }})
                                    }}
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <small class="form-text text-muted">Enter the path to data of X-axis in your Json Source<br>please use <a href="https://github.com/FlowCommunications/JSONPath" target="_blank"><s>the force</s> docs</a> to realize how to build the path to your data</small>
                                    {{ form_widget(form.x_path, {'attr':
                                        {
                                            'class': 'form-control',
                                            'value': '$.data.*.time',
                                            'placeholder': 'json path for x-axis'
                                        }})
                                    }}
                                </div>
                            </div>
                            <div class="col-md-6 centered">
                                <div class="form-group">
                                    <small class="form-text text-muted">Enter the path to data of Y-axis in your Json Source</small>
                                    {{ form_widget(form.y_path, {'attr':
                                        {
                                            'class': 'form-control',
                                            'value': '$.data.*.price',
                                            'placeholder': 'json path for y-axis'
                                        }})
                                    }}
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <small class="form-text text-muted">Enter the number of predicted points in generated chart</small>
                                    {{ form_widget(form.predicted_count, {'attr':
                                        {
                                            'class': 'form-control',
                                            'value': '20',
                                            'min': '1',
                                            'max': '200',
                                            'placeholder': 'name of Y-axis'
                                        }})
                                    }}
                                </div>
                            </div>
                            <div class="col-md-6 centered">
                                {{ form_widget(form.save, {'attr':
                                    {
                                        'class': 'btn btn-primary',
                                        'label': 'Generate'
                                    }})
                                }}
                            </div>
                        </div>

                        {#todo: implement limits#}

                        {{ form_end(form) }}
                    </form>
                </div>
            </div>
        </div>
    </div>
    {#
    {{ form_start(form) }}
    <div class="form-group">
        <label for="name">Your name</label>
        {{ form_widget(form.name, {'attr': {'class': 'form-control'}}) }}
    </div>
    <div class="form-group">
        <label for="email">Your e-mail</label>
        {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
    </div>
    <div class="form-group">
        <label for="message">Your message</label>
        {{ form_widget(form.message, {'attr': {'class': 'form-control', 'cols': 30, 'rows': 5}}) }}
    </div>
    <div class="form-group">
        <button type="submit" class="btn btn-primary">Send</button>
    </div>
    {{ form_end(form) }}
    #}
{% endblock %}
{% block javascripts %}
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
{% endblock %}